!function(e,o){var a=function(){"use strict";var a={ad:{debug:!1,debugParam:"bpovhostdeb",adReady:!1,ads:{},site:o.location.origin},whenAvail:function(o,a){e.setTimeout(function d(){e[o]?a():e.setTimeout(d,10)},10)},getUrlParams:function(e,o){o=o.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var a=new RegExp("[\\?&]"+o+"=([^&#]*)").exec(e);return null===a?"":a[1]},getUrlwParam:function(e){for(var d=[void 0!==o.referrer?o.referrer:"",void 0!==o.location.href?o.location.href:""],n=0;n<d.length;n++)if(-1!==d[n].indexOf(e))return a.ad.debug&&console.log("[JAU] getUrlwParam: ",d[n]),d[n]},getInnerWidth:function(o){return parseFloat(e.getComputedStyle(o).width)},getAdInfo:function(e){var d={};return googletag.cmd.push(function(){for(var n=googletag.pubads().getSlots(),t=0;t<n.length;t++){var i=n[t].getResponseInformation();if(i&&e==i.creativeId){var s=String(n[t].getSlotId()),r=s.length,g=s.search("_"),l=s.substring(g+1,r);d.siteSent=!1,d.id=l,d.slotId=s,d.size=n[t].getSizes(),d.slotElementId=n[t].getSlotElementId(),d.ri=n[t].getResponseInformation(),d.creativeId=d.ri.creativeId,d.dv=o.querySelector('[id*="'+s+'"]'),d.frm=d.dv.getElementsByTagName("iframe")[0],a.ad.debug&&(console.log("[BPOV][h] getAdInfo - ad: ",d),console.log("[BPOV][h] getAdInfo - Creative ID: ",d.creativeId," - Slot id: ",d.slotId," - slotElementId: ",d.slotElementId," - Size: ",d.size))}}}),d},sendSiteInfo:function(e){for(var o in a.ad.ads)void 0!==a.ad.ads[o]&&!1===a.ad.ads[o].siteSent&&a.ad.ads[o].frm.contentWindow&&(a.ad.ads[o].frm.contentWindow.postMessage({site:a.ad.site},e),a.ad.debug&&console.log("[BPOV][h] sendSiteInfo - contentWindow: ",a.ad.ads[o].frm.contentWindow))},listenForAd:function(){e.addEventListener?(a.ad.debug&&console.log("[BPOV][h] listenForAd - Listening For Brand POV Ad -"),e.addEventListener("message",function(d){var n=d.origin||d.originalEvent.origin;if(n.indexOf("googlesyndication")>-1&&(a.sendSiteInfo(n),d.data.task)){var t=d.data.task,i=d.data.creativeId,s=d.data.newHeight;switch(t){case"bpovloaded":for(var r in a.ad.debug&&console.log("[BPOV][h] bpovloaded"),void 0===a.ad.ads[i]&&(a.ad.ads[i]=a.getAdInfo(i)),a.ad.debug&&console.log("[BPOV][h] bpovloaded - priv.ad.ads: ",a.ad.ads),a.ad.ads)void 0!==a.ad.ads[r]&&a.ad.ads[r].creativeId==i&&(a.ad.ads[r].frm.style.height=s+"px",a.ad.ads[r].frm.style.marginBottom="20px",a.ad.ads[r].frm.style.marginTop="20px",a.ad.ads[r].frm.contentWindow.postMessage({host:"received",site:a.ad.site},n),a.ad.debug&&(console.log("[BPOV][h] bpovloaded - Ad iFrame: ",a.ad.ads[r].frm),console.log("[BPOV][h] bpovloaded  - New Height - "+s)));break;case"increase":a.ad.debug&&(console.log("[BPOV][h] Increasing - Begin -"),console.log("[BPOV][h] Increasing - Ad iFrame: ",a.ad.ads[i].frm),console.log("[BPOV][h] Increasing - ad iframe newHeight = "+s)),a.ad.ads[i].frm.style.height=s+"px",a.ad.debug&&(console.log("[BPOV][h] Increasing - ad iframe style height = "+a.ad.ads[i].frm.style.height),console.log("[BPOV][h] Increasing - End -"));break;case"decrease":a.ad.debug&&(console.log("[BPOV][h] Decreasing - Begin -"),console.log("[BPOV][h] Decreasing - ad iframe newHeight = "+s),console.log("[BPOV][h] Decreasing - Ad iFrame: ",a.ad.ads[i].frm)),a.ad.ads[i].frm.style.height=s+"px";var g=o.body.getBoundingClientRect(),l=a.ad.ads[i].frm.getBoundingClientRect().top-g.top-60;e.scrollTo(0,l),a.ad.debug&&(console.log("[BPOV][h] Decreasing - body getBoundingClientRect: ",o.body.getBoundingClientRect()),console.log("[BPOV][h] Decreasing - ad iframe getBoundingClientRect: ",a.ad.ads[i].frm.getBoundingClientRect()),console.log("[BPOV][h] Decreasing - ad iframe is "+l+" vertical pixels from <body>"),console.log("[BPOV][h] Decreasing - ad iframe style height = "+a.ad.ads[i].frm.style.height),console.log("[BPOV][h] Decreasing - End -"));break;case"site":a.ad.ads[i].siteSent=!0,a.ad.debug&&console.log("[BPOV][h] siteSent: ",a.ad.ads[i].siteSent," - ci: ",i," - site: ",a.ad.site)}}},!1)):console.log("[BPOV][h] Listening - NOT SUPPORTED -")}},d={whenAvail:function(e,o){return a.whenAvail(e,o)},setDebug:function(e){a.ad&&(a.ad.debug="true"==e)},listenForAd:function(){return a.ad.frmLoc=a.getUrlwParam(a.ad.debugParam),"true"!==a.getUrlParams(a.ad.frmLoc,a.ad.debugParam)&&!0!==a.ad.debug||(d.setDebug("true"),console.log("[BPOV][h] Debug ON - site: ",a.ad.site),console.log("[BPOV][h] Debug ON - frmLoc: ",a.ad.frmLoc)),a.listenForAd()}};return d}();a.whenAvail("googletag",function(){a.listenForAd()}),e.jsBpov=a}(window,document);